# Ubuntu용 Docker 설치 스크립트(VMWare)

이 저장소는 Ubuntu 시스템에서 Docker를 자동으로 설치하는 쉘 스크립트를 제공합니다. 이 스크립트는 Docker를 설치하는 데 필요한 단계들을 자동으로 수행하며, 설치 과정 중 발생하는 로그를 지정된 디렉토리에 저장합니다.

## Docker란?
Docker는 컨테이너 기술을 제공하는 플랫폼으로, 애플리케이션과 그에 필요한 환경을 패키징하여 컨테이너라는 독립적인 단위로 실행할 수 있게 해줍니다. 컨테이너는 가상 머신보다 가벼우며, 빠르고 효율적인 배포와 관리가 가능하다는 특징을 가집니다.

## Docker의 이점
Docker는 강력한 컨테이너화 기술로, 애플리케이션을 효율적으로 개발, 배포 및 관리할 수 있도록 해줍니다. 
1. **빠른 실행 속도**
   ```
   가상 머신보다 가볍고 빠릅니다.
   운영체제 레벨의 가상화로 작동합니다.
   전체 운영체제를 가상화하는 가상머신보다 더 적은 리소스를 사용하고, 빠르게 실행할 수 있습니다.
   컨테이너를 몇 초 이내에 시작하고 종료할 수 있어, 빠른 개발 및 배포가 가능합니다.
   ```
3. **이식성 (Portability)**
   ```
   Docker는 애플리케이션과 그 실행 환경을 컨테이너라는 단위로 패키징합니다.
   이 컨테이너는 운영 체제에 관계없이 동일하게 실행되므로,
   애플리케이션을 로컬 개발 환경에서 클라우드 또는 서버 환경으로 손쉽게 이동할 수 있습니다.
   이를 통해 환경 불일치 문제를 해결할 수 있습니다.
   ```
4. **효율적인 리소스 사용**
   ```
   가상 머신보다 훨씬 적은 리소스를 사용합니다.
   가상 머신은 각자 독립적인 운영 체제를 실행하는 반면,
   Docker는 호스트 운영 체제를 공유하고, 애플리케이션만을 컨테이너 내에서 분리하여 실행합니다.
   ```
5. **애플리케이션과 환경의 일관성**
   ```
   애플리케이션과 그에 필요한 모든 라이브러리, 의존성 등을 하나의 컨테이너 이미지로 패키징합니다.
   ```
6. **버전 관리 및 재현 가능성**
   ```
   이미지 버전 관리를 지원하여 애플리케이션을 원하는 버전으로 쉽게 롤백하거나 특정 버전에서 실행할 수 있습니다.
   Dockerfile을 사용하면 애플리케이션 환경을 코드로 정의할 수 있어 재현 가능성을 보장합니다.
   ```
7. **자동화 및 CI/CD (지속적인 통합 및 배포) 지원**
   ```
   CI/CD 파이프라인과 통합되어 자동화된 테스트, 빌드, 배포 및 모니터링을 지원합니다.
   애플리케이션의 배포 과정이 일관되고 효율적입니다.
   ```
8. **확장성**
   ```
   컨테이너를 수십, 수백, 수천 개까지 빠르게 확장할 수 있습니다.
   Kubernetes나 Docker Swarm을 사용하면, 수많은 컨테이너를 자동으로 배포하고 관리할 수 있습니다.
   이를 통해 클라우드 환경에서 수평 확장이 용이해집니다.
   ```
9. **모듈화 및 마이크로서비스 아키텍처 지원**
   ```
   애플리케이션을 독립된 서비스로 분리하는 데 유리한 구조를 제공합니다.
   각 컨테이너는 하나의 서비스나 애플리케이션을 실행하도록 설계할 수 있기 때문에 마이크로서비스 아키텍처를 쉽게 구현할 수 있습니다.
   이 방식은 시스템의 유연성, 확장성 및 유지 관리성을 높여줍니다.
   ```
10. **보안**
    ```
    컨테이너 간에 격리를 제공합니다.
    그러므로 애플리케이션의 보안을 강화할 수 있습니다.
    각 컨테이너는 독립적으로 실행되며, 호스트 시스템이나 다른 컨테이너와의 간섭을 최소화합니다. 
    ```
    <hr/>
    
## 기능
   - Ubuntu에서 Docker 설치 자동화
   - 설치 과정의 로그를 /home/master/docker_log/docker_installation.log에 저장
   - apt-transport-https, ca-certificates, curl 등 필요한 종속성 자동 설치
   - Docker의 GPG 키와 저장소 자동 추가, 수동 입력 없이 설치 진행
   - Docker가 정상적으로 설치되었는지 확인 (서비스 상태 및 버전 확인)

## 요구 사항
스크립트를 실행하기 전에 다음 사항들을 확인해주세요
   - sudo 권한이 있는 Ubuntu 시스템이어야 합니다.
   - /home/master/docker_log 디렉토리가 존재하거나, 스크립트 실행 중에 자동으로 생성됩니다.
   - 시스템이 Docker 및 필요한 패키지를 다운로드할 수 있는 인터넷 연결이 필요합니다.

## 사용 방법

1. 스크립트 다운로드
   docker_install.sh을 다운로드 합니다.

2. 실행 권한 부여
   스크립트에 실행 권한을 부여합니다:
   ```
   chmod +x docker_install.sh
   ```
3. 스크립트 실행
   다음 명령어로 스크립트를 실행합니다
   ```
   ./docker_install.sh
   ```
   스크립트가 수행하는 작업은 다음과 같습니다.
   - 패키지 목록을 업데이트합니다.
   - 필요한 종속성 패키지를 설치합니다.
   - Docker의 공식 GPG 키를 추가합니다.
   - Docker의 안정적인 저장소를 추가합니다.
   - Docker CE (Community Edition), Docker CLI, containerd를 설치합니다.
   - Docker 서비스 상태를 확인합니다.
   - 설치된 Docker 버전을 출력합니다.
   설치 과정은 /home/master/docker_log/docker_installation.log 파일에 기록됩니다.

4. 로그 확인
   스크립트 실행 후 설치 로그를 /home/master/docker_log/docker_installation.log에서 확인할 수 있습니다
   ```
   vim /home/master/docker_log/docker_installation.log
   ```
   로그 파일에는 각 단계별 설치 과정과 발생한 오류에 대한 정보가 포함되어 있습니다.

5. Docker 설치 확인
   스크립트가 완료되면 Docker가 정상적으로 설치되어 있어야 합니다.
   Docker 버전 확인으로 설치 여부를 확인 할 수 있습니다. 
   ```
   docker --version
   ```

6. Docker 서비스 확인
   ``` bash
   sudo systemctl status docker
   ```
   Docker가 정상적으로 설치되었다면 Docker 서비스가 "active (running)" 상태로 표시됩니다.

## 문제 해결
   설치 중 문제가 발생하면 /home/master/docker_log/docker_installation.log 로그 파일을 확인하세요.

## 일반적인 문제
   - Docker 패키지를 다운로드하는 중 네트워크 문제 발생
   - 종속성 문제 또는 패키지 충돌 (스크립트가 이를 자동으로 처리해야 함)
   - /home/master/docker_log 디렉토리에 대한 권한 문제
<hr/>

## 참조 링크
[docker] : https://hub.docker.com/

[ibm] : https://www.ibm.com/kr-ko/topics/kubernetes
